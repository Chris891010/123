/* ========================================
   表單控件樣式（共用）
   適用於所有頁面
   版本：v2024100507
   ======================================== */

/* 標籤 */
label {
  display: block;
  color: var(--ink);
  font-size: 0.875rem;
  font-weight: 600;
  margin-bottom: 8px;
  line-height: 1.4;
  letter-spacing: 0.01em;
}

/* 表單控件 */
input:not([type="radio"]):not([type="checkbox"]),
select,
textarea {
  width: 100%;
  border: 2px solid var(--input-border);
  border-radius: 12px;
  padding: 12px 16px;
  background: var(--input-bg);
  color: var(--input-text);
  font-size: 0.9375rem;
  line-height: 1.5;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

input:not([type="radio"]):not([type="checkbox"]):hover,
select:hover,
textarea:hover {
  border-color: var(--brand);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

input:not([type="radio"]):not([type="checkbox"]):focus,
select:focus,
textarea:focus {
  outline: none;
  border-color: var(--brand);
  box-shadow: 0 0 0 4px rgba(29, 78, 216, 0.12), 0 4px 12px rgba(0, 0, 0, 0.1);
  transform: translateY(-1px);
}

[data-theme="dark"] input:not([type="radio"]):not([type="checkbox"]):focus,
[data-theme="dark"] select:focus,
[data-theme="dark"] textarea:focus {
  box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.25), 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* 唯讀輸入框 */
input[readonly],
input[type="number"][readonly],
input[type="text"][readonly] {
  background: var(--surface);
  color: var(--muted);
  cursor: text;
  border: 2px dashed var(--line);
  opacity: 0.7;
  user-select: text;
}

input[readonly]:hover,
input[type="number"][readonly]:hover,
input[type="text"][readonly]:hover {
  opacity: 0.85;
  border-color: var(--muted);
  box-shadow: none;
}

input[readonly]:focus,
input[type="number"][readonly]:focus,
input[type="text"][readonly]:focus {
  outline: none;
  border-color: var(--muted);
  box-shadow: none;
  transform: none;
}

/* 唯讀輸入框的選取樣式 - 顯示反白效果 */
input[readonly]::selection {
  background: rgba(29, 78, 216, 0.2);
  color: var(--ink);
}

input[readonly]::-moz-selection {
  background: rgba(29, 78, 216, 0.2);
  color: var(--ink);
}

/* 日期輸入框 - 整個區域都可點擊 */
input[type="date"] {
  cursor: pointer;
  position: relative;
}

input[type="date"]::-webkit-calendar-picker-indicator {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: auto;
  height: auto;
  color: transparent;
  background: transparent;
  cursor: pointer;
}

/* 確保日期文字仍然可見 */
input[type="date"]::-webkit-datetime-edit {
  padding: 0;
}

/* Textarea */
textarea {
  resize: vertical;
  min-height: 80px;
}

/* 選擇框未選擇時顯示灰色提示 */
select:invalid {
  color: var(--muted);
}

select option[value=""] {
  color: var(--muted);
}

select option:not([value=""]) {
  color: var(--input-text);
}

/* 表單佈局 */
.form {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 20px;
  margin: 1.5rem 0;
}

.field {
  grid-column: span 3;
  position: relative;
}

.col-2 { grid-column: span 2; }
.col-4 { grid-column: span 4; }
.col-6 { grid-column: span 6; }
.col-8 { grid-column: span 8; }
.col-12 { grid-column: span 12; }

/* 響應式表單 */
@media (max-width: 768px) {
  .form {
    gap: 12px;
  }
  
  .field,
  .col-2,
  .col-4,
  .col-6,
  .col-8 {
    grid-column: span 12;
  }
}

/* ========================================
   Datepicker 樣式調整
   ======================================== */

/* 確保 datepicker 輸入框與其他輸入框對齊 */
.field input[datepicker] {
  display: block;
  width: 100%;
  margin: 0;
}
